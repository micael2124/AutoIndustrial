<!DOCTYPE html>
<html>
<head>
<title>Controle do Motor - ESP32</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<style>
    body { font-family: Arial; text-align: center; margin: 0; padding: 20px; }
    .container { max-width: 400px; margin: auto; padding: 20px; background: #f2f2f2; border-radius: 10px; }
    .botao { display: block; width: 100%; padding: 15px; margin: 10px 0; font-size: 20px; border: none; cursor: pointer; border-radius: 5px; }
    .on { background: green; color: white; }
    .off { background: red; color: white; }
    .status { font-size: 22px; font-weight: bold; margin-top: 10px; }
</style>
<script>
    const firebaseURL = "https://auto-industrial-default-rtdb.firebaseio.com/"; // üîπ Substitua pela sua URL do Firebase

    function atualizarDados() {
        fetch(firebaseURL + "corrente.json")
        .then(response => response.json())
        .then(data => { document.getElementById('corrente').innerText = data + ' A'; });

        fetch(firebaseURL + "tensao.json")
        .then(response => response.json())
        .then(data => { document.getElementById('tensao').innerText = data + ' V'; });

        fetch(firebaseURL + "motorLigado.json")
        .then(response => response.json())
        .then(data => { 
            document.getElementById('estadoMotor').innerText = data ? 'Ligado' : 'Desligado'; 
        });
    }

    function controlarMotor(estado) {
        fetch(firebaseURL + "motor.json", { method: "PUT", body: JSON.stringify(estado) });
    }

    setInterval(atualizarDados, 2000);
</script>
</head>
<body onload='atualizarDados()'>
<div class='container'>
    <h2>Controle do Motor</h2>
    <p><strong>Corrente:</strong> <span id='corrente'>--</span></p>
    <p><strong>Tens√£o:</strong> <span id='tensao'>--</span></p>
    <p class='status'><strong>Motor:</strong> <span id='estadoMotor'>--</span></p>
    <button class='botao on' onclick="controlarMotor(true)">Ligar</button>
    <button class='botao off' onclick="controlarMotor(false)">Desligar</button>
</div>
</body>
</html>
